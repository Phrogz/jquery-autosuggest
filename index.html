<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>jQuery AutoSuggest by hlsolutions</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>jQuery AutoSuggest</h1>
        <p>An AutoSuggest jQuery plugin.</p>

        <p class="view"><a href="https://github.com/hlsolutions/jquery-autosuggest">View the Project on GitHub <small>hlsolutions/jquery-autosuggest</small></a></p>


        <ul>
          <li><a href="https://github.com/hlsolutions/jquery-autosuggest/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/hlsolutions/jquery-autosuggest/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/hlsolutions/jquery-autosuggest">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>jQuery Autosuggest <a href="http://travis-ci.org/hlsolutions/jquery-autosuggest"><img src="https://secure.travis-ci.org/hlsolutions/jquery-autosuggest.png?branch=master" alt="Build Status"></a>
</h1>

<p>The <em>jQuery plugin</em> <strong>AutoSuggest</strong> will turn any regular text <code>input</code> box into a awesome auto-complete and auto-suggest box. It will dynamically create all the HTML elements that it needs to function. You <em>don't need to add any extra HTML</em> to work with AutoSuggest. Also, AutoSuggest uses <strong>ZERO images</strong>! All styling is done 100% in the included CSS file. This means it is super easy to customize the look of everything! You only need to edit the included CSS file. You can even use images if you want, just add the appropriate lines of code into the CSS file.</p>

<p><img src="https://github.com/downloads/hlsolutions/jquery-autosuggest/jquery-autosuggest-example01.png" alt="Example"></p>

<p><em>Please note: This is a fork of the <a href="#note-on-the-original-version">original versions by Drew Wilson and Wu Yuntao</a>.</em></p>

<h2>Getting Started</h2>

<p>Download the <a href="https://raw.github.com/hlsolutions/jquery-autoSuggest/master/dist/jquery.autoSuggest.min.js">production version</a> or the <a href="https://raw.github.com/hlsolutions/jquery-autoSuggest/master/dist/jquery.autoSuggest.js">development version</a>. Don't forget the CSS <a href="https://raw.github.com/hlsolutions/jquery-autoSuggest/master/dist/jquery.autoSuggest.min.css">production version</a> or the <a href="https://raw.github.com/hlsolutions/jquery-autoSuggest/master/dist/jquery.autoSuggest.css">development version</a>.</p>

<p>In your web page:</p>

<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"jquery.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"dist/jquery.autoSuggest.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">'input[type=text]'</span><span class="p">).</span><span class="nx">autoSuggest</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p><em>Note: jQuery version 1.5 or above is required.</em></p>

<p>More examples see <a href="#examples">here</a>.</p>

<h2>How It Works</h2>

<p>As you type into the AutoSuggest <code>input</code> box, it will filter through its <code>data</code> and suggest matched items to you. You can pass in an object of data or you can have it call a URL as you type to get its data from. AutoSuggest will display the matched items in a selectable list, which is 100% customizable. You have the option of structuring the HTML elements of that list however you want via the <code>formatList</code> callback function.</p>

<p>When you type into the <code>input</code> box and the "suggestion" dropdown list appears, a few things happen:</p>

<ul>
<li>A <code>class</code> of "loading" is applied to the main AutoSuggest <code>ul</code> while the data is loaded. That class is then removed when all processing has finished and before the suggestion results list is made visible.</li>
<li>As you hover over each suggested option in the list a <code>class</code> of "selected" is added to that item, and then removed when you <code>mouseout</code>.</li>
<li>When you make a selection the item is added to the <code>input</code> box. Also there is a hidden <code>input</code> field generated for each AutoSuggest box that stores the values (comma separated) of each item you have selected. This input box will have a unique ID as well as a class name of "as-values".</li>
</ul><p>The plugin expects the data passed into it (or gathered from the URL) to be formatted in <a href="http://json.org/">JSON</a>. JSON is an extremely easy format to work with, and if you don't already... you should :) To learn more about JSON, check out Drew Wilson's post/video, <a href="http://code.drewwilson.com/entry/an-introduction-to-json">An Introduction to JSON</a>.</p>

<p>When an AJAX request is made the search string is sent over in a param named "q" by default. However you can change that name with the <strong>queryParam</strong> option. Here is a default example AJAX request: <strong><a href="http://www.example.com/your/script/?q=mick">http://www.example.com/your/script/?q=mick</a></strong>
"mick" would be the search query that was typed into the <code>input</code> box. Be sure to setup your server-side code to grab that param and send back some results.</p>

<p>As of AutoSuggest version 1.4 you can now create selections by using the <strong>tab</strong> or <strong>comma</strong> keys. To do this simply type something into the box and hit the tab or comma keys. The selection is added to AutoSuggest in the exact same manner as if it were chosen from the Results dropdown.</p>

<h2>Security: XSS safety</h2>

<p>Since 1.7, this plugin prevents injecting JavaScript into the web page with techniques known as cross-site scripting (XSS). Both original version of Drew Wilson and the fork of Wu Yuntao are affected by this vulnerability.</p>

<p>At first all foreign input or content have to be escaped correctly before inserting it as html into the web page. In addition to this, the selections state have be changed internally from a comma separated string into a more comfortable and at least reliable selections holder domain object.</p>

<p>To prove this statement, special test cases could be found at <code>test/jquery.autoSuggest_test.js</code>. Feel free to contribute patches. We will like it!</p>

<h2>Browser compatibility</h2>

<p><em>Needs updates.</em></p>

<p>AutoSuggest has been tested (and works) in:</p>

<ul>
<li>IE6, IE7, IE8, IE9</li>
<li>Firefox (all)</li>
<li>Safari (all)</li>
<li>Opera (all?)</li>
<li>Chrome (all)</li>
</ul><h2>Documentation</h2>

<p>The plugin's constructor expects two arguments: <code>data</code> and <code>options</code>.</p>

<p>The first argument <code>data</code> defines how the suggested results will be retrieved:</p>

<ul>
<li>Use an <code>array</code> if you want to define a static list of items. Each item must be an object with properties which will match your <code>options</code> keys <code>selectedItemProp</code>, <code>selectedValuesProp</code> and <code>searchObjProps</code>.</li>
<li>Use a <code>function</code> returning an <code>array</code> if you want to define dynamic builder of a list of items. The structure of this list must be the same as described for an <code>array</code>.</li>
<li>Use a <code>string</code> if you want to load the data asynchronously via AJAX. Eventually, in that case you want to override the option <code>afterRequest</code> to match the specification of a data array.</li>
</ul><p>The second argument <code>options</code> specifies the behaviour of the plugin like data transformations, ajax options or event handling.</p>

<p>In general, the options are grouped into following categories:</p>

<ul>
<li>General</li>
<li>Data</li>
<li>Ajax</li>
<li>Callbacks</li>
</ul><h3>General</h3>

<h4>asHtmlID (string)</h4>

<p>Enables you to specify your own custom element id. Otherwise it will default to using a random element id.
This is also applies to the hidden input filed that holds all of the selected values.</p>

<div class="highlight"><pre><span class="c1">// example</span>
<span class="p">{</span>
  <span class="nx">id</span> <span class="o">:</span> <span class="s1">'CUSTOM_ID'</span>
<span class="p">}</span>
</pre></div>

<p>I.e., the id of the hidden input input will be now <code>as-values-CUSTOM_ID</code>.</p>

<h4>inputAttrs (object)</h4>

<p>Specify additional attributes which will be applied to each input on setup.</p>

<p>Default:</p>

<div class="highlight"><pre><span class="p">{</span>
  <span class="nx">autocomplete</span> <span class="o">:</span> <span class="s1">'off'</span>
<span class="p">}</span>
</pre></div>

<h4>matchCase (boolean)</h4>

<p>Specify whether the search/highlight should be case sensitive.</p>

<p>Default: <code>false</code></p>

<h4>minChars (number)</h4>

<p>Minimum number of characters that must be entered into the input field before the search begins.</p>

<p>Default: <code>1</code></p>

<h4>neverSubmit (boolean)</h4>

<p>If set to <code>true</code> this option will never allow the <em>return key</em> to submit the form that AutoSuggest is a part of.</p>

<p>Default: <code>false</code></p>

<h4>selectionLimit (number)</h4>

<p>Specifiy the number of selections that are allowed to be made.</p>

<p>Default: <code>false</code></p>

<h4>preventPropagationOnEscape (boolean)</h4>

<p>If set to <code>true</code> this option will prevent bubbling events when the <em>escape key</em> was pressed.</p>

<p>Default: <code>false</code></p>

<h4>searchActive (boolean)</h4>

<p>If set to <code>true</code> this option will prevent the plugin filters the retrieved data again regardless whether the item was already selected.</p>

<p>Default: <code>false</code></p>

<h4>remoteFilter (boolean/string)</h4>

<p>If set to <code>false</code> this option will prevent the plugin filters the retrieved data again. If set to <code>'auto'</code> the plugin will resolve this setting regarding the datasource is a server or not. The idea is that in case of a server side response the data are already filtered.</p>

<p>Default: <code>true</code></p>

<h3>Data</h3>

<h4>selectedItemProp (string)</h4>

<p>Specifiy the name of the property to use as the display text for each chosen item.</p>

<p>Default: <code>'value'</code></p>

<h4>selectedValuesProp (string)</h4>

<p>Specify the name of the property to use as the value for each chosen item.</p>

<p>This option configures the id values which will be stored into the hidden input field.</p>

<p>Default: <code>'value'</code></p>

<h4>searchObjProps (string)</h4>

<p>Specify a comma separated list of property names. The values in these objects properties will be used to perform the search/highlight on.</p>

<p>Default: <code>'value'</code></p>

<h4>Example</h4>

<p>Let's assume, each record contains at least a <code>firstName</code> and a <code>lastName</code>. Allowing the plugin to search/highlight in both columns, you have to provide following line.
<code>searchObjProps = 'firstName,lastName'</code></p>

<h4>preFill (object or string)</h4>

<p>Enables you to pre fill the box with selections when the page is first loaded. You can pass in a comma separated list of values (a string), or an object.</p>

<p>When using a string, each value is used as both the display text on the selected item and for it's value.
When using an object, the options <code>selectedItemProp</code> will define the object property to use for the display text and <code>selectedValuesProp</code> will define the object property to use for the value for the selected item.</p>

<p>Note: You <em>must</em> setup your <code>preFill</code> object in that format. An example value can look just like the example objects laid out above.</p>

<h3>UI</h3>

<h4>emptyText (string)</h4>

<p>Specify text to display when there are no search results.</p>

<p>Default: <code>'No Results'</code></p>

<h4>emptyTextPlaceholder (string)</h4>

<p>RegEx to replace values in emptyText values with query text. If you search for <code>Hans</code> and there is no result and <code>showResultListWhenNoMatch</code> is true, then, a list with one, unselectable entry is shown containing the <code>emptyText</code>, which occurrences of <code>{0}</code> are replaced by the query String.</p>

<p>Default: <code>/\{\d+\}/</code></p>

<h4>limitText (string)</h4>

<p>Specify text to display when the number of selections has reached it's limit.</p>

<p>Default: <code>'No More Selections Are Allowed'</code></p>

<h4>startText (string)</h4>

<p>Specify text to display when the input field is empty.</p>

<p>Default: <code>'Enter Name Here'</code></p>

<h4>usePlaceholder (boolean)</h4>

<p>Set <em>HTML5</em> placeholder attribute to display the <em>startText</em> when the input field is empty.</p>

<p>Default: <code>false</code></p>

<h4>keyDelay (number)</h4>

<p>Number of milliseconds to delay after a keydown on the input field and before search is started.</p>

<p>Default: <code>400</code></p>

<h4>resultsHighlight</h4>

<p>Option to choose whether or not to highlight the matched text in each result item.</p>

<p>Default: <code>true</code></p>

<h4>showResultList (boolean)</h4>

<p>If set to <code>false</code> the result list will never be shown at any time.</p>

<p>Default: <code>true</code></p>

<h4>fadeOut (mixed)</h4>

<p>Specify whether the removing of a selection should be animated (using fadeOut) or not.</p>

<p>The value of <code>fadeOut</code> will be passed directly into <code>$.fn.fadeOut</code>.</p>

<h3>Ajax</h3>

<h4>ajaxOptions (object)</h4>

<p>An additional options object for jQuery's <code>.ajax</code> (if the Ajax method is used). Example usage: Override the HTTP method into <em>POST</em>.</p>

<p>The defaults will be merged unless they are overridden.</p>

<div class="highlight"><pre><span class="c1">// Default</span>
<span class="p">{</span><span class="nx">type</span> <span class="o">:</span> <span class="s1">'get'</span><span class="p">,</span> <span class="nx">dataType</span> <span class="o">:</span> <span class="s1">'json'</span><span class="p">}</span>
</pre></div>

<h4>queryParam (string)</h4>

<p>The name of the param that will hold the search string value in the AJAX request.</p>

<p>Default: <code>'q'</code></p>

<h4>retrieveLimit (number)</h4>

<p>If set to a number, it will add a '&amp;limit=' param to the AJAX request. It also limits the number of search results allowed to be displayed in the results dropdown box.</p>

<h4>extraParams</h4>

<p>These params will be applied to the <code>$.ajax</code> params.</p>

<p>There are three ways provide params.
1. Use an object which will be applied directly onto the internal <code>$.ajax</code> request's params.
2. Use the deprecated way defining a string (prior version 2). But please note: Make sure you add an <code>&amp;</code> before each param. Otherwise you break it all..
3. Use a callback function returning an object (or a string). The callback's first and only argument is the plugin's scope.</p>

<h4>onAjaxRequestAlways (function)</h4>

<p>A callback function which will be attached onto <code>$.ajax.always</code>.</p>

<h4>onAjaxRequestDone (function)</h4>

<p>A callback function which will be attached onto <code>$.ajax.done</code>.</p>

<h4>onAjaxRequestFail (function)</h4>

<p>A callback function which will be attached onto <code>$.ajax.fail</code>.</p>

<h3>Callbacks</h3>

<h4>start(api)</h4>

<p>Provide some internal hooks with the specified <code>api</code> object. Currently, following methods are provided:
1. <code>add(item)</code> will add another selection item
1. <code>remove(item</code> will remove a selection item</p>

<h4>afterSelectionClick (element, item, selections)</h4>

<p>A callback that is run when a previously chosen item is clicked. The item that is clicked is passed into this callback function as <code>element</code>.</p>

<h4>onSelectionAdd(element, markerElement, detachedElement, options)</h4>

<p>A callback that do the actual dom operation (add the <code>detachedElement</code> before <code>markerElement</code>).</p>

<div class="highlight"><pre><span class="nx">onSelectionAdd</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span> <span class="nx">markerElement</span><span class="p">,</span> <span class="nx">detachedElement</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">markerElement</span><span class="p">.</span><span class="nx">before</span><span class="p">(</span><span class="nx">detachedElement</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">containerElement</span><span class="p">.</span><span class="nx">prev</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

<h4>onSelectionRemove(element, options)</h4>

<p>A callback that do the actual dom operation (remove the element).</p>

<div class="highlight"><pre><span class="nx">onSelectionRemove</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">fadeOut</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">element</span><span class="p">.</span><span class="nx">fadeOut</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">fadeOut</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
      <span class="nx">element</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
    <span class="p">});</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">element</span><span class="p">.</span><span class="nx">remove</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h4>afterSelectionAdd (element, item, selections)</h4>

<p>A callback that is run when a selection is made by choosing one from the results dropdown or by using the tab/comma keys to add one. The selection item is passed into this callback function as <code>element</code>.</p>

<p>Example</p>

<div class="highlight"><pre><span class="nx">afterSelectionAdd</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">currentSelections</span><span class="p">){</span>
  <span class="nx">MyApp</span><span class="p">.</span><span class="nx">addSelection</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<h4>selectionRemove (element, item, selections)</h4>

<p>A callback hat is run when a selection removed from the AutoSuggest by using the delete key or by clicking the "x" inside the selection. The selection item is passed into this callback function as <code>element</code>.</p>

<p>Example:</p>

<div class="highlight"><pre><span class="nx">afterSelectionRemove</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">currentSelections</span><span class="p">){</span>
  <span class="nx">MyApp</span><span class="p">.</span><span class="nx">removeSelection</span><span class="p">(</span><span class="nx">item</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<h4>beforeRequest (query, options)</h4>

<p>A callback that is run right before the Ajax request is made or before the local objected is searched. This is used to modify the search string before it is processed. So if a user entered <code>'jim'</code> into the AutoSuggest box, you can call this function to prepend their query with <code>'guy_'</code>. Making the final query <code>= 'guy_jim'</code>. The search query is passed into this function.</p>

<p>Note: The callback <em>must</em> return a string if this is used.</p>

<h4>afterRequest (data)</h4>

<p>A callback that is run after the ajax request has completed. This allows modifiying the requested <code>data</code>.</p>

<p>Note: The callback <em>must</em> return an object if this is used.</p>

<h4>formatList (items, element)</h4>

<p>A callback that is run after all the data has been retrieved and before the results are put into the suggestion results list. This is here so you can modify what and how things show up in the suggestion results list.</p>

<p>The argument <code>items</code> is the data you originally passed into AutoSuggest (or retrieved via an AJAX request). The other argument <code>element</code> is the HTML element you will be formatting (the result <code>li</code> item).</p>

<p>Note: The callback must return an element. If you don't care return <code>element</code>.</p>

<p>In order to add extra things to the 'result item' (like an image) you will need to make sure you pass that data into AutoSuggest. Below is an example of <code>formatList</code> in action:</p>

<div class="highlight"><pre><span class="nx">formatList</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">elem</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">my_image</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">image</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">new_elem</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">"add/change stuff here, put image here, etc."</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">new_elem</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<h4>onResultItemClick (data)</h4>

<p>A callback that is run when a search result item is clicked. The data from the item that is clicked is passed into this callback function as <code>data</code>.</p>

<p>Example:</p>

<div class="highlight"><pre><span class="nx">onResultItemClick</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<h4>afterResultListShow(visible)</h4>

<p>A callback that is run when the suggestion results dropdown list is made visible. Will run after every search query.</p>

<p>The argument <code>visible</code> indicates whether the result list is actually visible. Regarding the configuration, the result list will not be shown if there are not items available.</p>

<h3>Methods</h3>

<p>The plugin itself provides different methods depending on the internal state.</p>

<h4>init (default)</h4>

<p>Arguments: <code>data</code>, <code>options</code></p>

<p>This is the default method and requires the options as described. This means that <code>$('input').autoSuggest('init', 'url', {})</code> is equal to <code>$('input').autoSuggest('url', {})</code>.</p>

<h4>add</h4>

<p>Arguments: <code>data</code> or array of <code>data</code></p>

<p>Example 1:</p>

<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'input'</span><span class="p">).</span><span class="nx">autoSuggest</span><span class="p">(</span><span class="s1">'add'</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">id</span> <span class="o">:</span> <span class="mi">4711</span><span class="p">,</span> <span class="nx">name</span> <span class="o">:</span> <span class="s1">'Mick Jagger'</span>
<span class="p">})</span>
</pre></div>

<p>Example 2:</p>

<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'input'</span><span class="p">).</span><span class="nx">autoSuggest</span><span class="p">(</span><span class="s1">'add'</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">id</span> <span class="o">:</span> <span class="mi">4711</span><span class="p">,</span> <span class="nx">name</span> <span class="o">:</span> <span class="s1">'Mick Jagger'</span>
<span class="p">},</span> <span class="p">{</span>
 <span class="nx">id</span> <span class="o">:</span> <span class="mi">4712</span><span class="p">,</span> <span class="nx">name</span> <span class="o">:</span> <span class="s1">'Kelly Slater'</span>
<span class="p">})</span>
</pre></div>

<h4>remove</h4>

<p>Arguments: <code>value</code> or array of <code>value</code></p>

<p>Example 1:</p>

<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'input'</span><span class="p">).</span><span class="nx">autoSuggest</span><span class="p">(</span><span class="s1">'remove'</span><span class="p">,</span> <span class="mi">4711</span><span class="p">)</span>
</pre></div>

<p>Example 2:</p>

<div class="highlight"><pre><span class="nx">$</span><span class="p">(</span><span class="s1">'input'</span><span class="p">).</span><span class="nx">autoSuggest</span><span class="p">(</span><span class="s1">'remove'</span><span class="p">,</span> <span class="mi">4711</span><span class="p">,</span> <span class="mi">4722</span><span class="p">)</span>
</pre></div>

<h2>Examples</h2>

<h3>Multiple elements on one page</h3>

<p>The above line of code will apply <em>AutoSuggest</em> to all text type input elements on the page. Each one will be using the same set of <code>data</code>. If you want to have multiple <em>AutoSuggest</em> fields on your page that use different sets of <code>data</code>, make sure you select them separately. Like this:</p>

<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"jquery.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"dist/jquery.autoSuggest.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">'div.someClass input'</span><span class="p">).</span><span class="nx">autoSuggest</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
  <span class="nx">$</span><span class="p">(</span><span class="s1">'#someID input'</span><span class="p">).</span><span class="nx">autoSuggest</span><span class="p">(</span><span class="nx">other_data</span><span class="p">);</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p>Doing the above will allow you to pass in different options and different <code>data</code> sets.</p>

<h3>Setup with static data</h3>

<p>Below is an example of using <em>AutoSuggest</em> with a <code>data</code> Object and other various options:</p>

<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"jquery.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"dist/jquery.autoSuggest.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span><span class="nx">items</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="s2">"21"</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"Mick Jagger"</span><span class="p">},</span>
    <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="s2">"43"</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"Johnny Storm"</span><span class="p">},</span>
    <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="s2">"46"</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"Richard Hatch"</span><span class="p">},</span>
    <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="s2">"54"</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"Kelly Slater"</span><span class="p">},</span>
    <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="s2">"55"</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"Rudy Hamilton"</span><span class="p">},</span>
    <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="s2">"79"</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">"Michael Jordan"</span><span class="p">}</span>
  <span class="p">]};</span>
  <span class="nx">$</span><span class="p">(</span><span class="s2">"input[type=text]"</span><span class="p">).</span><span class="nx">autoSuggest</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">items</span><span class="p">,</span> <span class="p">{</span><span class="nx">selectedItemProp</span><span class="o">:</span> <span class="s2">"name"</span><span class="p">,</span> <span class="nx">searchObjProps</span><span class="o">:</span> <span class="s2">"name"</span><span class="p">});</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<h3>Setup using AJAX</h3>

<p>Below is an example using a <em>URL</em> to gather the Data Object via <em>AJAX</em> and other various options:</p>

<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"jquery.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"dist/jquery.autoSuggest.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">$</span><span class="p">(</span><span class="s2">"input[type=text]"</span><span class="p">).</span><span class="nx">autoSuggest</span><span class="p">(</span><span class="s2">"http://example.com/path/to/script"</span><span class="p">,</span> <span class="p">{</span><span class="nx">minChars</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">matchCase</span><span class="o">:</span> <span class="kc">true</span><span class="p">});</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p>The "value" property will be stored comma separated in a hidden input field when chosen from the "suggestion" dropdown list. You can see an example of the "value" property being set for each data item in the example above. Typically the "value" property would contain the ID of the item, so you can send a list of <em>chosen IDs</em> to your server.</p>

<h3>Setup using a data builder via function (no AJAX)</h3>

<p>If the available data will change (i.e. if you progressively or asynchronously load more data for autosuggesting), you can pass a function to autosuggest as the data source.</p>

<p>The function will be passed two arguments:</p>

<ul>
<li>
<code>query</code> - the string typed in the autosuggest box</li>
<li>
<code>next</code> - the <code>function(data, query)</code> you should call when you have the data available</li>
</ul><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"jquery.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"dist/jquery.autoSuggest.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="nx">$</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">slowly_loaded_data</span> <span class="o">=</span> <span class="p">{</span><span class="nx">items</span><span class="o">:</span> <span class="p">[]};</span>

  <span class="c1">// Obviously, you'd do something more interesting here.</span>
  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">slowly_loaded_data</span> <span class="o">=</span> <span class="p">{</span><span class="nx">items</span><span class="o">:</span> <span class="p">[{</span><span class="nx">value</span><span class="o">:</span> <span class="s1">'11'</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">'A name'</span><span class="p">}]};</span> <span class="p">},</span> <span class="mi">2000</span><span class="p">);</span>

  <span class="kd">function</span> <span class="nx">get_data</span><span class="p">(</span><span class="nx">query</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">next</span><span class="p">(</span><span class="nx">slowly_loaded_data</span><span class="p">,</span> <span class="nx">query</span><span class="p">);</span>
  <span class="p">};</span>
  <span class="nx">$</span><span class="p">(</span><span class="s2">"input[type=text]"</span><span class="p">).</span><span class="nx">autoSuggest</span><span class="p">(</span><span class="nx">get_data</span><span class="p">);</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<h3>Example of backend (i.e. PHP)</h3>

<p>Below is an example of how to process the data sent <em>via AJAX</em> to your server in <em>PHP</em>:</p>

<div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>
<span class="nv">$input</span> <span class="o">=</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s2">"q"</span><span class="p">];</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
<span class="c1">// query your DataBase here looking for a match to $input</span>
<span class="c1">// DO NOT use this in production. ESCAPE ALWAYS! This is just a simplified example.</span>
<span class="nv">$query</span> <span class="o">=</span> <span class="nb">mysql_query</span><span class="p">(</span><span class="s2">"SELECT * FROM my_table WHERE my_field LIKE '%</span><span class="si">$input</span><span class="s2">%'"</span><span class="p">);</span>
<span class="k">while</span> <span class="p">(</span><span class="nv">$row</span> <span class="o">=</span> <span class="nb">mysql_fetch_assoc</span><span class="p">(</span><span class="nv">$query</span><span class="p">))</span> <span class="p">{</span>
  <span class="nv">$json</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
  <span class="nv">$json</span><span class="p">[</span><span class="s1">'value'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$row</span><span class="p">[</span><span class="s1">'id'</span><span class="p">];</span>
  <span class="nv">$json</span><span class="p">[</span><span class="s1">'name'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$row</span><span class="p">[</span><span class="s1">'username'</span><span class="p">];</span>
  <span class="nv">$json</span><span class="p">[</span><span class="s1">'image'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$row</span><span class="p">[</span><span class="s1">'user_photo'</span><span class="p">];</span>
  <span class="nv">$data</span><span class="p">[]</span> <span class="o">=</span> <span class="nv">$json</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">header</span><span class="p">(</span><span class="s2">"Content-type: application/json"</span><span class="p">);</span>
<span class="k">echo</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
</pre></div>

<h2>Release History</h2>

<h2>2012-09-?? Version 2.0.0</h2>

<p>The plugin project now uses <strong>CoffeeScript</strong> and <strong>SASS</strong> for source building. The unit tests run still with <strong>QUnit</strong>. <strong>grunt</strong> is used to manage dependencies, tasks and tests. In addition, <strong>Travis CI</strong> is now checking every commit.</p>

<ul>
<li>The plugin itself was rewritten in CoffeeScript.</li>
<li>The plugin's CSS was rewritten in SASS.</li>
<li>The plugin's test (QUnit) were slightly modified to work against a newer QUnit version without deprecation warnings (i.e. <code>equal</code> instead of <code>equals</code>).</li>
<li>Support for Travis CI was added.</li>
<li>Reduced memory consumption moving some local to global defined util functions.</li>
<li>Extended <code>extraParams</code> being a plain object (with downgrade compatibility).</li>
<li>Changed the Ajax call from <code>$.getJSON</code> to the more flexible <code>$.ajax</code>, besides introduced <code>ajaxOptions</code>.</li>
<li>
<strong>API change</strong>: <em>beforeRetrieve</em> was renamed to <em>beforeRequest</em> and was added the second argument <code>options</code>.</li>
<li>
<strong>API change</strong>: <em>retrieveComplete</em> was renamed to <em>afterRequest</em>.</li>
<li>
<strong>API change</strong>: <em>selectionAdded</em> was renamed to <em>afterSelectionAdd</em>.</li>
<li>
<strong>API change</strong>: <em>selectionClick</em> was renamed to <em>afterSelectionClick</em>.</li>
<li>
<strong>API change</strong>: <em>selectionRemoved</em> was renamed to <em>onSelectionRemove</em>.</li>
<li>
<strong>API change</strong>: New event: <em>afterSelectionRemove</em>.</li>
<li>Added a built-in <em>fadeOut</em> feature.</li>
<li>
<strong>API change</strong>: <em>resultClick</em> was renamed to <em>onResultItemClick</em>.</li>
<li>
<strong>API change</strong>: <em>resultsComplete</em> was renamed to <em>afterResultListShow</em>.</li>
</ul><h2>2012-07-03 Version 1.7.0</h2>

<ul>
<li>Fixed handling with comma containing values</li>
<li>Fixed handling with HTML special characters like ", &gt;, &lt;. These characters will be encoded.</li>
<li>Added support of HTML renderers in addition to the XSS issues.</li>
</ul><h2>License</h2>

<p>Copyright (c) 2012 Jan Philipp
Licensed under the MIT, GPL licenses.</p>

<h2>Contributing</h2>

<p>In lieu of a formal styleguide, take care to maintain the existing coding style. Add unit tests for any new or changed functionality. Lint and test your code using <a href="https://github.com/cowboy/grunt">grunt</a>.</p>

<h3>Important notes</h3>

<p>Please don't edit files in the <code>dist</code> subdirectory as they are generated via grunt. You'll find source code in the <code>src</code> subdirectory!</p>

<p>While grunt can run the included unit tests via PhantomJS, this shouldn't be considered a substitute for the real thing. Please be sure to test the <code>test/*.html</code> unit test file(s) in <em>actual</em> browsers.</p>

<h3>Installing grunt</h3>

<p><em>This assumes you have <a href="http://nodejs.org/">node.js</a> and <a href="http://npmjs.org/">npm</a> installed already.</em></p>

<ol>
<li>Test that grunt is installed globally by running <code>grunt --version</code> at the command-line.</li>
<li>If grunt isn't installed globally, run <code>npm install -g grunt</code> to install the latest version. <em>You may need to run <code>sudo npm install -g grunt</code>.</em>
</li>
<li>From the root directory of this project, run <code>npm install</code> to install the project's dependencies.</li>
</ol><h3>Installing PhantomJS</h3>

<p>In order for the qunit task to work properly, <a href="http://www.phantomjs.org/">PhantomJS</a> must be installed and in the system PATH (if you can run "phantomjs" at the command line, this task should work).</p>

<p>Unfortunately, PhantomJS cannot be installed automatically via npm or grunt, so you need to install it yourself. There are a number of ways to install PhantomJS.</p>

<ul>
<li><a href="http://ariya.ofilabs.com/2012/02/phantomjs-and-mac-os-x.html">PhantomJS and Mac OS X</a></li>
<li>
<a href="http://code.google.com/p/phantomjs/wiki/Installation">PhantomJS Installation</a> (PhantomJS wiki)</li>
</ul><p>Note that the <code>phantomjs</code> executable needs to be in the system <code>PATH</code> for grunt to see it.</p>

<ul>
<li><a href="http://www.computerhope.com/issues/ch000549.htm">How to set the path and environment variables in Windows</a></li>
<li><a href="http://superuser.com/questions/69130/where-does-path-get-set-in-os-x-10-6-snow-leopard">Where does $PATH get set in OS X 10.6 Snow Leopard?</a></li>
<li><a href="https://www.google.com/search?q=How+do+I+change+the+PATH+variable+in+Linux">How do I change the PATH variable in Linux</a></li>
</ul><h3>Additional requirements</h3>

<p><em>Note: It can be helpful to look into the <code>.travis.yml</code> (configuration file for Travis CI Build system) which contains required dependencies.</em></p>

<p>Following modules are required:</p>

<ul>
<li>CoffeeScript - install via <code>npm install -g coffee-script</code>
</li>
<li>SASS - install via <code>gem install sass</code>
</li>
<li>Sqwish - install <code>npm install -g sqwish</code>
</li>
</ul><h1>Note on the original version</h1>

<p>This project was a fork of <strong>jQuery AutoSuggest</strong> (1.6) by <a href="https://github.com/wuyuntao">Wu Yuntao</a> at <a href="https://github.com/wuyuntao/jquery-autosuggest">https://github.com/wuyuntao/jquery-autosuggest</a>.</p>

<p>Originally, <strong>jQuery AutoSuggest</strong> (1.4) was developed by <a href="http://drewwilson.com/">Drew Wilson</a> at <a href="http://code.drewwilson.com/entry/autosuggest-jquery-plugin/">http://code.drewwilson.com/entry/autosuggest-jquery-plugin/</a></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/hlsolutions">hlsolutions</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-33240227-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>